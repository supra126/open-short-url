# A/B æ¸¬è©¦

åˆ†æµå°Žå‘ä¸åŒç›®æ¨™ç¶²å€ä»¥å„ªåŒ–è½‰æ›çŽ‡ã€‚

## æ¦‚è¦½

A/B æ¸¬è©¦è®“æ‚¨æ ¹æ“šè¨­å®šçš„æ¬Šé‡å°‡è¨ªå®¢å°Žå‘ä¸åŒçš„ç¶²å€ï¼Œå¹«åŠ©æ‚¨æ‰¾å‡ºè¡¨ç¾æœ€ä½³çš„é é¢ç‰ˆæœ¬ã€‚

```mermaid
flowchart TB
    URL["ðŸ”— çŸ­ç¶²å€\nhttps://s.yourdomain.com/landing"]
    Engine["ðŸ§ª A/B æ¸¬è©¦å¼•æ“Ž"]

    URL --> Engine

    Engine -->|"40%"| VA["è®Šé«” A"]
    Engine -->|"40%"| VB["è®Šé«” B"]
    Engine -->|"20%"| VC["è®Šé«” C"]

    VA --> P1["ðŸ“„ é é¢ v1"]
    VB --> P2["ðŸ“„ é é¢ v2"]
    VC --> P3["ðŸ“„ é é¢ v3"]
```

### æµé‡åˆ†é…

```mermaid
pie title æµé‡åˆ†é…
    "è®Šé«” A (å°ç…§çµ„)" : 40
    "è®Šé«” B (æ–°è¨­è¨ˆ)" : 40
    "è®Šé«” C (é†’ç›® CTA)" : 20
```

## å»ºç«‹ A/B æ¸¬è©¦

### å•Ÿç”¨ A/B æ¸¬è©¦

é¦–å…ˆï¼Œç‚ºçŸ­ç¶²å€å•Ÿç”¨ A/B æ¸¬è©¦ï¼š

```json
PATCH /api/urls/{urlId}

{
  "isABTesting": true
}
```

### å»ºç«‹è®Šé«”

```json
POST /api/urls/{urlId}/variants

{
  "name": "è®Šé«” A - åŽŸå§‹è¨­è¨ˆ",
  "targetUrl": "https://example.com/landing-v1",
  "weight": 50,
  "isActive": true
}
```

**åƒæ•¸ï¼š**

| åƒæ•¸ | èªªæ˜Ž | å¿…å¡« | é è¨­å€¼ |
|-----|------|:----:|--------|
| `name` | è®Šé«”åç¨±ï¼ˆ1-100 å­—å…ƒï¼‰ | âœ… | - |
| `targetUrl` | ç›®æ¨™ç¶²å€ | âœ… | - |
| `weight` | æµé‡æ¬Šé‡ï¼ˆ0-100ï¼‰ | âœ… | - |
| `isActive` | æ˜¯å¦å•Ÿç”¨ | âŒ | true |

### ç¯„ä¾‹è¨­å®š

å»ºç«‹ 50/50 çš„ A/B æ¸¬è©¦ï¼š

```json
// è®Šé«” A
POST /api/urls/{urlId}/variants
{
  "name": "æŽ§åˆ¶çµ„ - åŽŸå§‹é é¢",
  "targetUrl": "https://example.com/landing-original",
  "weight": 50
}

// è®Šé«” B
POST /api/urls/{urlId}/variants
{
  "name": "æ¸¬è©¦çµ„ - æ–°è¨­è¨ˆ",
  "targetUrl": "https://example.com/landing-new",
  "weight": 50
}
```

## ç®¡ç†è®Šé«”

### åˆ—å‡ºè®Šé«”

```
GET /api/urls/{urlId}/variants
```

**å›žæ‡‰ï¼š**

```json
{
  "variants": [
    {
      "id": "var_123",
      "name": "æŽ§åˆ¶çµ„",
      "targetUrl": "https://example.com/v1",
      "weight": 50,
      "isActive": true,
      "clickCount": 1250,
      "createdAt": "2025-01-01T00:00:00Z"
    },
    {
      "id": "var_456",
      "name": "æ¸¬è©¦çµ„",
      "targetUrl": "https://example.com/v2",
      "weight": 50,
      "isActive": true,
      "clickCount": 1180,
      "createdAt": "2025-01-01T00:00:00Z"
    }
  ],
  "totalWeight": 100
}
```

### å–å¾—å–®ä¸€è®Šé«”

```
GET /api/urls/{urlId}/variants/{variantId}
```

### æ›´æ–°è®Šé«”

```json
PUT /api/urls/{urlId}/variants/{variantId}

{
  "name": "æ¸¬è©¦çµ„ - æ›´æ–°ç‰ˆ",
  "weight": 60,
  "isActive": true
}
```

### åˆªé™¤è®Šé«”

```
DELETE /api/urls/{urlId}/variants/{variantId}
```

::: warning
åˆªé™¤æœ€å¾Œä¸€å€‹è®Šé«”æ™‚ï¼ŒA/B æ¸¬è©¦æœƒè‡ªå‹•åœç”¨ã€‚
:::

## æµé‡åˆ†é…

### æ¬Šé‡ç³»çµ±

æ¬Šé‡æ±ºå®šæ¯å€‹è®Šé«”æŽ¥æ”¶çš„æµé‡æ¯”ä¾‹ï¼š

| è®Šé«” | æ¬Šé‡ | å¯¦éš›åˆ†é… |
|------|------|---------|
| A | 50 | 50% |
| B | 30 | 30% |
| C | 20 | 20% |

**æ¬Šé‡è¦å‰‡ï¼š**

- æ¬Šé‡ç¯„åœï¼š0-100
- ç¸½æ¬Šé‡ä¸éœ€è¦ç­‰æ–¼ 100ï¼ˆæœƒæŒ‰æ¯”ä¾‹è¨ˆç®—ï¼‰
- æ¬Šé‡ç‚º 0 çš„è®Šé«”ä¸æœƒæŽ¥æ”¶æµé‡

### åˆ†é…æ¼”ç®—æ³•

```
è¨ªå®¢åˆ†é…æ©ŸçŽ‡ = è®Šé«”æ¬Šé‡ / æ‰€æœ‰å•Ÿç”¨è®Šé«”çš„æ¬Šé‡ç¸½å’Œ
```

**ç¯„ä¾‹ï¼š**

```
è®Šé«” A æ¬Šé‡ï¼š60
è®Šé«” B æ¬Šé‡ï¼š40
ç¸½æ¬Šé‡ï¼š100

è®Šé«” A æ©ŸçŽ‡ = 60/100 = 60%
è®Šé«” B æ©ŸçŽ‡ = 40/100 = 40%
```

### èª¿æ•´æ¬Šé‡

å³æ™‚èª¿æ•´è®Šé«”æ¬Šé‡ï¼š

```json
PUT /api/urls/{urlId}/variants/{variantId}

{
  "weight": 70
}
```

::: info
æ¬Šé‡è®Šæ›´ç«‹å³ç”Ÿæ•ˆï¼Œå°æ–°è¨ªå®¢ç”Ÿæ•ˆã€‚
:::

## A/B æ¸¬è©¦åˆ†æž

### å–å¾—åˆ†æžè³‡æ–™

```
GET /api/analytics/ab-test?startDate=2025-01-01&endDate=2025-01-31
```

**å›žæ‡‰ï¼š**

```json
{
  "tests": [
    {
      "urlId": "url_123",
      "slug": "landing",
      "variants": [
        {
          "id": "var_a",
          "name": "æŽ§åˆ¶çµ„",
          "clicks": 1250,
          "uniqueVisitors": 1100,
          "weight": 50,
          "actualPercentage": 51.4
        },
        {
          "id": "var_b",
          "name": "æ¸¬è©¦çµ„",
          "clicks": 1180,
          "uniqueVisitors": 1050,
          "weight": 50,
          "actualPercentage": 48.6
        }
      ],
      "totalClicks": 2430,
      "startDate": "2025-01-01",
      "daysRunning": 15
    }
  ]
}
```

### è®Šé«”è¡¨ç¾æ¯”è¼ƒ

```json
{
  "comparison": {
    "winner": "var_b",
    "improvement": 12.5,
    "confidence": 95,
    "sampleSize": 2430
  }
}
```

## èˆ‡æ™ºæ…§è·¯ç”±æ•´åˆ

A/B æ¸¬è©¦å¯ä»¥èˆ‡æ™ºæ…§è·¯ç”±ä¸€èµ·ä½¿ç”¨ï¼š

### å„ªå…ˆé †åº

1. **æ™ºæ…§è·¯ç”±è¦å‰‡å…ˆè©•ä¼°**
2. **å¦‚æžœæ²’æœ‰è¦å‰‡åŒ¹é…ï¼Œå‰‡å¥—ç”¨ A/B æ¸¬è©¦**
3. **æœ€å¾Œä½¿ç”¨é è¨­ç¶²å€**

### ä½¿ç”¨æ¡ˆä¾‹

ç‚ºç‰¹å®šå€æ®µé€²è¡Œ A/B æ¸¬è©¦ï¼š

```
æ‰€æœ‰æµé‡
    â”‚
    â”œâ”€â”€ iOS ä½¿ç”¨è€… â†’ App Storeï¼ˆæ™ºæ…§è·¯ç”±ï¼‰
    â”‚
    â””â”€â”€ å…¶ä»–ä½¿ç”¨è€… â†’ A/B æ¸¬è©¦
            â”œâ”€â”€ 50% â†’ è‘—é™¸é  V1
            â””â”€â”€ 50% â†’ è‘—é™¸é  V2
```

## æœ€ä½³å¯¦è¸

### 1. å¾ž 50/50 é–‹å§‹

åˆå§‹æ¸¬è©¦ä½¿ç”¨å‡ç­‰åˆ†é…ï¼š

```json
{
  "variants": [
    { "name": "æŽ§åˆ¶çµ„", "weight": 50 },
    { "name": "æ¸¬è©¦çµ„", "weight": 50 }
  ]
}
```

### 2. æ”¶é›†è¶³å¤ æ¨£æœ¬

ç¢ºä¿æœ‰è¶³å¤ çš„æ•¸æ“šæ‰ä¸‹çµè«–ï¼š

| è½‰æ›çŽ‡ | å»ºè­°æœ€å°æ¨£æœ¬ |
|--------|-------------|
| > 5% | 1,000 æ¬¡é»žæ“Š/è®Šé«” |
| 1-5% | 5,000 æ¬¡é»žæ“Š/è®Šé«” |
| < 1% | 10,000 æ¬¡é»žæ“Š/è®Šé«” |

### 3. ä¸€æ¬¡æ¸¬è©¦ä¸€å€‹è®Šæ•¸

éš”é›¢è®Šæ›´ä»¥ç²å¾—æ¸…æ™°çµæžœï¼š

- âœ… åªæ”¹è®ŠæŒ‰éˆ•é¡è‰²
- âœ… åªæ”¹è®Šæ¨™é¡Œæ–‡å­—
- âŒ åŒæ™‚æ”¹è®Šå¤šå€‹å…ƒç´ 

### 4. è¨­å®šæ˜Žç¢ºç›®æ¨™

å®šç¾©æˆåŠŸæŒ‡æ¨™ï¼š

- é»žæ“ŠçŽ‡ï¼ˆCTRï¼‰
- è½‰æ›çŽ‡
- è·³å‡ºçŽ‡
- åœç•™æ™‚é–“

### 5. åŸ·è¡Œè¶³å¤ æ™‚é–“

è€ƒæ…®æ™‚é–“å› ç´ ï¼š

- è‡³å°‘åŸ·è¡Œ 1-2 é€±
- æ¶µè“‹å®Œæ•´çš„æ¥­å‹™é€±æœŸ
- é¿å…åœ¨ç‰¹æ®Šæ™‚æœŸï¼ˆç¯€æ—¥ç­‰ï¼‰é–‹å§‹

### 6. é€æ­¥èª¿æ•´

æ ¹æ“šçµæžœé€æ­¥æœ€ä½³åŒ–ï¼š

```
é€± 1-2ï¼š50/50 æ¸¬è©¦
é€± 3ï¼šå‹å‡ºè€… 70/30
é€± 4ï¼šç¢ºèªçµæžœå¾ŒçµæŸæ¸¬è©¦
```

## ä½¿ç”¨æ¡ˆä¾‹

### è‘—é™¸é å„ªåŒ–

æ¸¬è©¦ä¸åŒçš„è‘—é™¸é è¨­è¨ˆï¼š

```json
{
  "name": "è‘—é™¸é æ¸¬è©¦",
  "variants": [
    {
      "name": "åŽŸå§‹è¨­è¨ˆ",
      "targetUrl": "https://example.com/landing-original",
      "weight": 50
    },
    {
      "name": "æ–°è¨­è¨ˆ - å¤§CTA",
      "targetUrl": "https://example.com/landing-big-cta",
      "weight": 50
    }
  ]
}
```

### å®šåƒ¹é é¢æ¸¬è©¦

æ¸¬è©¦ä¸åŒçš„å®šåƒ¹å‘ˆç¾æ–¹å¼ï¼š

```json
{
  "name": "å®šåƒ¹é é¢æ¸¬è©¦",
  "variants": [
    {
      "name": "æœˆä»˜æ–¹æ¡ˆå„ªå…ˆ",
      "targetUrl": "https://example.com/pricing-monthly",
      "weight": 33
    },
    {
      "name": "å¹´ä»˜æ–¹æ¡ˆå„ªå…ˆ",
      "targetUrl": "https://example.com/pricing-annual",
      "weight": 33
    },
    {
      "name": "ä¼æ¥­æ–¹æ¡ˆå„ªå…ˆ",
      "targetUrl": "https://example.com/pricing-enterprise",
      "weight": 34
    }
  ]
}
```

### è¡ŒéŠ·æ´»å‹•æ¸¬è©¦

æ¸¬è©¦ä¸åŒçš„ä¿ƒéŠ·è¨Šæ¯ï¼š

```json
{
  "name": "å¤å­£ä¿ƒéŠ·æ¸¬è©¦",
  "variants": [
    {
      "name": "æŠ˜æ‰£å¼·èª¿",
      "targetUrl": "https://example.com/summer-discount",
      "weight": 50
    },
    {
      "name": "é™æ™‚å¼·èª¿",
      "targetUrl": "https://example.com/summer-limited",
      "weight": 50
    }
  ]
}
```

### å¤šè®Šé«”æ¸¬è©¦ï¼ˆMVTï¼‰

åŒæ™‚æ¸¬è©¦å¤šå€‹ç‰ˆæœ¬ï¼š

```json
{
  "name": "é¦–é  MVT",
  "variants": [
    { "name": "ç‰ˆæœ¬ A", "weight": 25 },
    { "name": "ç‰ˆæœ¬ B", "weight": 25 },
    { "name": "ç‰ˆæœ¬ C", "weight": 25 },
    { "name": "ç‰ˆæœ¬ D", "weight": 25 }
  ]
}
```

## é€ŸçŽ‡é™åˆ¶

| æ“ä½œ | é™åˆ¶ |
|-----|------|
| è®Šé«”ç®¡ç† | 30 æ¬¡/åˆ†é˜ |

## ä¸‹ä¸€æ­¥

- [æ•¸æ“šåˆ†æž](/zh-TW/features/analytics) - è©³ç´°åˆ†æž
- [æ™ºæ…§è·¯ç”±](/zh-TW/features/smart-routing) - æ¢ä»¶å¼è·¯ç”±
- [ç¶²å€åˆ†çµ„](/zh-TW/features/bundles) - æ•´ç†æ‚¨çš„æ¸¬è©¦
