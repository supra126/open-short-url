# Application
NODE_ENV=development
PORT=4101

# Database
# Connection pool parameters for optimal performance:
# - connection_limit: Maximum database connections (default: 10, recommended: 10-20)
# - pool_timeout: Connection pool timeout in seconds (default: 10)
# - connect_timeout: Connection timeout in seconds (default: 5)
# Production: Use higher connection_limit (20-30) based on your server capacity
DATABASE_URL="postgresql://postgres:postgres@localhost:5432/open_short_url?schema=public&connection_limit=15&pool_timeout=20&connect_timeout=5"

# Redis
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# JWT
JWT_SECRET=your-super-secret-jwt-key-change-in-production
JWT_EXPIRES_IN=7d

# CORS
CORS_ORIGIN=http://localhost:4100

# Cookie Domain (ADVANCED - Auto-detected by default)
# The system automatically detects and sets the correct cookie domain for cross-subdomain sharing
# Only override this if you need custom behavior:
#   - For cross-subdomain (api.example.com & app.example.com): .example.com
#   - For single domain or localhost: leave empty (recommended)
COOKIE_DOMAIN=

# Rate Limiting
THROTTLE_TTL=60
THROTTLE_LIMIT=10

# Branding (Optional - for Password Protection Page)
# These values are used in the password-protected short URL page
BRAND_NAME=Open Short URL
BRAND_LOGO_URL=

# Short URL Domain (for displaying short URLs)
SHORT_URL_DOMAIN=http://localhost:4101
FRONTEND_URL=http://localhost:4100

# Slug Generation (Optional - Dynamic Length Strategy)
# Thresholds for dynamic slug length adjustment (comma-separated)
SLUG_LENGTH_THRESHOLDS=1000,50000,500000
# Corresponding slug lengths for each threshold range (comma-separated)
# Range 0: count < 1000 -> 4 chars
# Range 1: 1000 <= count < 50000 -> 5 chars
# Range 2: 50000 <= count < 500000 -> 6 chars
# Range 3: count >= 500000 -> 7 chars
SLUG_LENGTHS=4,5,6,7

# Email (Optional)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_FROM=noreply@example.com

# Cloudflare Turnstile (Anti-bot Protection) - OPTIONAL
# Leave empty to disable bot protection (verification will be skipped)
# Get your keys from: https://dash.cloudflare.com/?to=/:account/turnstile
# For testing, use:
#   Site Key: 1x00000000000000000000AA (always passes - visible)
#   Secret Key: 1x0000000000000000000000000000000AA (always passes)
# For visible fail: 2x00000000000000000000AB / 2x0000000000000000000000000000000AA
# For invisible fail: 3x00000000000000000000FF / 3x0000000000000000000000000000000AA
TURNSTILE_SECRET_KEY=1x0000000000000000000000000000000AA
TURNSTILE_SITE_KEY=1x00000000000000000000AA
